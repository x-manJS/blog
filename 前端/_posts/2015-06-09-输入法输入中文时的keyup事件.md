---
layout: post
title: 输入法输入中文时的keyup事件
tags: keyup
---

在Chrome中，输入中文，但还没完全拼写之前，会把拼音写入到输入框中，从而导致会触发keyup事件。

![](/images/front-end/1.png)

当前有个需求是，只有输入完中文时才触发keyup事件。

百度谷歌。发现解决方案。

在使用JQuery的前提下：

$('#YourId').keyup(function(){
     // 事件   mark1
}).on('compositionstart', function(){
     // 开始使用输入法输入拼音时触发的事件  mark2
}).on('compositionend', function(){
     // 输入拼音转换成中文时触发的事件  mark3
})

如上，如果没使用输入法，是不会触发 mark2 和 mark3 的。

根据这些事件，我们就可以稍加做出修改，实现需求了。

在mark3中，直接获取输入框中的文本的话，时获取不到中文的，获取的还是拼音。
解决方案就是在 mark3 中加个setTimeout函数，延迟个 1 /60/1000 就能获取
到中文数据了。

参考链接：http://www.cnblogs.com/chyingp/p/3599641.html


