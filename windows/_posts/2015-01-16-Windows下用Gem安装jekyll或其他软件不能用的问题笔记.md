---
layout: post
title: Windows下用Gem安装jekyll笔记
tags: gem ruby jekyll
---

在windows下安装jekyll，ruby和gem都安装好了，  
在cmd下敲入：

	gem install jekyll

报错，内容如下
	
>ERROR:  Error installing jekyll:  
        The 'yajl-ruby' native gem requires installed build tools.

>Please update your PATH to include build tools or download the DevKit
from 'http://rubyinstaller.org/downloads' and follow the instructions
at 'http://github.com/oneclick/rubyinstaller/wiki/Development-Kit'

意思是需要安装build tools或者devkit。


解决步骤：

在 [http://rubyinstaller.org/downloads](http://rubyinstaller.org/downloads)下载`DevKit-mingw64-64-4.7.2-20130224-1432-sfx.exe`,我的系统是64位的。然后可以参考[http://github.com/oneclick/rubyinstaller/wiki/Development-Kit](http://github.com/oneclick/rubyinstaller/wiki/Development-Kit),当然这是英文版的说明。

下载后双击进行抽取，选择抽取的保存目录，我的目录是：`C:\devkit`。

然后,在cmd中进入`C:\devkit`文件夹，执行：
	
	ruby dk.rb init

没问题，然后执行：

	ruby dk.rb install

报错：

>Invalid configuration or no Rubies listed. Please fix 'config.yml'  
	and rerun 'ruby dk.rb install'

有两篇文章可以参考：

[http://stackoverflow.com/questions/21184452/invalid-configuration-or-no-rubies-listed](http://stackoverflow.com/questions/21184452/invalid-configuration-or-no-rubies-listed)

[http://stackoverflow.com/questions/16523607/cant-get-ruby-devkit-configuration-file-autogenerated-properly](http://stackoverflow.com/questions/16523607/cant-get-ruby-devkit-configuration-file-autogenerated-properly)

我是先用文本编辑器打开`C:\devkit\dk.rb`文件，修改。

	  REG_KEYS = [
	    'Software\RubyInstaller\MRI',
	    'Software\RubyInstaller\Rubinius',
		'Software\Wow6432Node\RubyInstaller\MRI'
	  ]

添加中括号中的第三行。 

单单修改这个貌似没什么用。

然后修改`C:\devkit\config.yml`配置文件。在这个文件中，要写名ruby的运行环境。

	# This configuration file contains the absolute path locations of all
	# installed Rubies to be enhanced to work with the DevKit. This config
	# file is generated by the 'ruby dk.rb init' step and may be modified
	# before running the 'ruby dk.rb install' step. To include any installed
	# Rubies that were not automagically discovered, simply add a line below
	# the triple hyphens with the absolute path to the Ruby root directory.
	#
	# Example:
	#
	# ---
	# - C:/ruby19trunk
	# - C:/ruby192dev
	#
	---
	- C:\Ruby21-x64

这边的 `- C:\Ruby21-x64`是我新加的一行，这个文件夹是我机器上的ruby安装的地址。

安装完之后就可以使用了，在cmd中敲入：

	ruby dk.rb install

没报错了。

然后去安装jekyll吧。

	gem install jekyll

一路通关。 Happy Finish~

	


	

